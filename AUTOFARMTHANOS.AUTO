--// UI AUTO NPC
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
local Text = Instance.new("TextLabel", ScreenGui)

Text.Size = UDim2.new(1,0,0,80)
Text.Position = UDim2.new(0,0,0,0)
Text.BackgroundTransparency = 1
Text.Text = "AUTO NPC"
Text.TextScaled = true
Text.Font = Enum.Font.GothamBlack
Text.TextColor3 = Color3.new(1,0,0)
Text.ZIndex = 999999
Text.TextStrokeTransparency = 0.7
Text.TextStrokeColor3 = Color3.new(0,0,0)

--// Setup
local player = game.Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local EnemiesFolder = workspace:WaitForChild("Enemies")

---------------------------------------------------------------------
-- ðŸ”¥ 1) AUTO GET & EQUIP TOOL "The Casket"
---------------------------------------------------------------------
local function AutoGetAndEquipTool()
    local backpack = player:WaitForChild("Backpack")

    -- Náº¿u chÆ°a cÃ³ tool trong backpack hoáº·c character
    if not backpack:FindFirstChild("The Casket") 
    and not (player.Character and player.Character:FindFirstChild("The Casket")) then

        -- TÃ¬m Ä‘Æ°á»ng dáº«n chuáº©n: workspace -> Spawn -> Classes -> Class10 -> Button
        local spawnFolder = workspace:FindFirstChild("Spawn")
        if spawnFolder then
            local classesFolder = spawnFolder:FindFirstChild("Classes")
            if classesFolder then
                local class10 = classesFolder:FindFirstChild("Class10")
                if class10 then
                    local button = class10:FindFirstChild("Button")
                    if button and button:FindFirstChild("ClickDetector") then
                        fireclickdetector(button.ClickDetector)
                        task.wait(0.5) -- delay trÃ¡nh spam
                    end
                end
            end
        end
    end

    -- Trang bá»‹ tool náº¿u cÃ³ trong backpack vÃ  chÆ°a trang bá»‹
    local tool = backpack:FindFirstChild("The Casket")
    if tool and tool.Parent ~= player.Character then
        tool.Parent = player.Character
    end
end

task.spawn(function()
    while task.wait(0.2) do
        AutoGetAndEquipTool()
    end
end)

---------------------------------------------------------------------
-- ðŸ”¥ 2) AUTO TP Táº¤T Cáº¢ NPC LIÃŠN Tá»¤C
---------------------------------------------------------------------
task.spawn(function()
    while true do
        for _, mob in ipairs(EnemiesFolder:GetDescendants()) do
            if mob:IsA("Model") 
            and mob:FindFirstChild("HumanoidRootPart") 
            and mob.Name:lower():find("npc") then

                local mobHRP = mob.HumanoidRootPart
                hrp.CFrame = mobHRP.CFrame + Vector3.new(0,6,0)
            end
        end
        task.wait() -- ~0s
    end
end)

---------------------------------------------------------------------
-- ðŸ”¥ 3) SPAM FIRE REMOTE LIÃŠN Tá»¤C
---------------------------------------------------------------------
task.spawn(function()
    while task.wait(0.1) do
        local character = player.Character or player.CharacterAdded:Wait()
        local tool = character:FindFirstChild("The Casket")

        if tool and tool.Parent == character and tool:FindFirstChild("Remote") then
            local args = { Enum.KeyCode.E }
            tool.Remote:FireServer(unpack(args))
        end
    end
end)